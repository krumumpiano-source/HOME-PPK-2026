# เอกสารบันทึกระบบ HOME PPK 2026

## 1. ภาพรวมระบบ
HOME PPK 2026 คือระบบบริหารจัดการบ้านพักครูโรงเรียนพะเยาพิทยาคม ประกอบด้วยฟีเจอร์หลัก:
- บันทึกค่าน้ำ/ค่าไฟ
- แจ้งยอดชำระ/ตรวจสลิป
- ตรวจคำร้อง/ลำดับคิวพักอาศัย
- จัดการคณะทำงานและตั้งค่าแอดมิน
- อัปโหลด/เปลี่ยน/ลบไฟล์ระเบียบ (PDF)
- บัญชีรายรับรายจ่าย, ยอดเบิกประจำเดือน

## 2. โครงสร้างไฟล์หลัก
- login.html, register.html, forgot-password.html, forgot-email.html: ระบบล็อกอิน/สมัคร/รีเซ็ตรหัสผ่าน
- dashboard.html: หน้าหลักผู้ใช้
- settings.html: ตั้งค่าส่วนตัว
- team-management.html: เมนูหลักคณะทำงาน (รวมปุ่มลิงก์ไปแต่ละฟีเจอร์)
- record-water.html: บันทึกค่าน้ำ (สีฟ้าจาง)
- record-electric.html: บันทึกค่าไฟ (สีเหลืองจาง)
- notify-payment.html: แจ้งยอดชำระ
- check-slip.html: ตรวจสลิป (สีม่วงจาง)
- check-request.html: ตรวจคำร้อง/ลำดับคิวพักอาศัย
- regulations.html: ดู/อัปโหลด/เปลี่ยน/ลบไฟล์ระเบียบ (PDF)
- admin-settings.html: ตั้งค่าระบบ (เฉพาะแอดมิน)
- monthly-withdraw.html: ยอดเบิกประจำเดือน (เตรียมหน้าไว้)
- accounting.html: บัญชีรายรับรายจ่าย (เตรียมหน้าไว้)

## 3. หลักการออกแบบ
- HTML/CSS/JS (inline, รองรับ Google Apps Script)
- ใช้ localStorage เก็บข้อมูลฝั่ง client (เช่น ข้อมูลสลิป, ผู้พักอาศัย, ค่าน้ำ/ไฟ)
- PDF.js สำหรับแสดงไฟล์ PDF ระเบียบ
- สีแต่ละหน้าแยกตามฟังก์ชัน (ฟ้า/น้ำเงิน, เหลือง, ม่วง ฯลฯ) และปรับให้จางสบายตา
- ปุ่ม admin-only สำหรับฟีเจอร์สำคัญ เช่น อัปโหลด/ลบไฟล์, ตั้งค่าระบบ

## 4. ตัวอย่างโค้ดสำคัญ (ย่อ)
- การบันทึกข้อมูลลง localStorage:
```js
localStorage.setItem('waterBill_' + year + month, JSON.stringify(waterData));
```
- การโหลดข้อมูลจาก localStorage:
```js
const stored = localStorage.getItem('slipData');
if (stored) { ...JSON.parse(stored)... }
```
- การอัปโหลด/แสดง/ลบ PDF ระเบียบ:
```js
// อ่านไฟล์ PDF เป็น base64 แล้วเก็บใน localStorage
// ใช้ PDF.js แสดงไฟล์ในหน้า regulations.html
// ปุ่มเปลี่ยน/ลบไฟล์สำหรับ admin เท่านั้น
```

## 5. การแก้ไข/กู้คืนไฟล์
- หากไฟล์เสียหายหรือเผลอกด undo ให้เปิดไฟล์นี้เพื่อดูโครงสร้างและฟีเจอร์หลัก
- สามารถสร้างไฟล์ใหม่ตามชื่อและโครงสร้างข้างต้น แล้วคัดลอกโค้ดตัวอย่างไปปรับใช้
- สีและปุ่มต่าง ๆ สามารถดูตัวอย่างจากไฟล์ team-management.html (แต่ละปุ่มมี class เฉพาะ)

## 6. หมายเหตุ
- หากมีการเพิ่มฟีเจอร์ใหม่ ให้บันทึกไว้ในไฟล์นี้เสมอ
- ควรสำรองไฟล์นี้ไว้ในที่ปลอดภัย

---
(อัปเดต: 12 ก.พ. 2026)
